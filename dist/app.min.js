!function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e){"use strict";var i=void 0,n=function(t,e,i){this.board=void 0===e?["","","","","","","","",""]:e,this.playerIcon=t,this.aiIcon="X"===t?"O":"X",this.turn=void 0===i?"X":i,this.turnNum=0,this.winner=null,this.gameOver=!1,this.winPositions=null,this.bestAIMove=null};n.prototype.checkGameOver=function(){for(var t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[6,4,2]],e=0;e<t.length;e+=1){var i=t[e][0],n=t[e][1],r=t[e][2],o=this.board[i]+this.board[n]+this.board[r];if("XXX"===o)return this.winPositions=t[e],this.winner="X",this.gameOver=!0,!0;if("OOO"===o)return this.winPositions=t[e],this.winner="O",this.gameOver=!0,!0}return!this.board.includes("")&&this.gameOver===!1&&(this.gameOver=!0,!0)},n.prototype.getPossibleMoves=function(){for(var t=[],e=0;e<this.board.length;e+=1)""===this.board[e]&&t.push(e);return t},n.prototype.evaluateMove=function(t){this.board[t]=this.turn,this.turn="X"===this.turn?"O":"X",this.turnNum+=1},n.prototype.move=function(t){this.board[t]=this.turn,$("#"+t).html(this.turn),$("#"+t).addClass("drop"),this.turn="X"===this.turn?"O":"X",this.turnNum+=1},n.prototype.aiTurn=function(){var t=this;$("#thinking").show(),setTimeout(function(){0===t.turnNum&&"X"===t.aiIcon?(t.bestAIMove=2*Math.floor(5*Math.random()),t.move(t.bestAIMove)):1===t.turnNum&&"O"===t.aiIcon?4!==t.board.indexOf("X")?(t.bestAIMove=4,t.move(t.bestAIMove)):(t.bestAIMove=[0,2,6,8][Math.floor(4*Math.random())],t.move(t.bestAIMove)):(t.getNextMove(t),t.move(t.bestAIMove)),t.checkGameOver()&&setTimeout(t.gameFinished.bind(t),500),$("#thinking").hide()},500)},n.prototype.playerTurn=function(t){this.turn!==this.playerIcon||$(t).hasClass("drop")||this.gameOver||(this.move($(t).attr("id").charAt(0)),this.checkGameOver()?setTimeout(this.gameFinished.bind(this),500):this.aiTurn())},n.prototype.gameFinished=function(){if(null!==this.winner)for(var t=0;t<this.winPositions.length;t+=1)$("#"+this.winPositions[t]).addClass("win-pulse");$("main").fadeOut(1500),this.winner===this.playerIcon?$("#closing-phrase").html("I'm not sure how,<br>but you won!"):this.winner===this.aiIcon?$("#closing-phrase").html("Looks like I won.<br>Better luck next time."):null===this.winner&&$("#closing-phrase").html("A tie.<br>This calls for a rematch."),$(".modal-end").delay(500).fadeIn(750)},n.prototype.getNextMove=function(t){var e=[],n=t.getPossibleMoves(),r=void 0,o=void 0;if(t.checkGameOver(),t.gameOver&&t.winner===t.aiIcon)return 1;if(t.gameOver&&t.winner===t.playerIcon)return-1;if(t.gameOver)return 0;for(var s=0;s<n.length;s+=1)r=jQuery.extend(!0,{},t),r.evaluateMove(n[s]),e.push(this.getNextMove(r));if(t.turn===t.aiIcon)return o=e.indexOf(Math.max.apply(null,e)),i.bestAIMove=n[o],e[o];var a=e.indexOf(Math.min.apply(null,e));return i.bestAIMove=n[o],e[a]},$(document).ready(function(){$("td").click(function(){i.playerTurn(this)}),$(".player-selection").click(function(){i=new n($(this).html()),$("#thinking").hide(),$(".modal-end").hide(),$("main").hide().fadeIn(500),$(".modal-start").fadeOut(500),i.turn===i.aiIcon&&setTimeout(i.aiTurn.bind(i),500)}),$("button").click(function(){i=null,$("td").each(function(){$(this).html(""),$(this).removeClass("drop"),$(this).removeClass("win-pulse")}),$(".modal-end").fadeOut(500),$(".modal-start").fadeIn(500)})}),Array.prototype.includes||(Array.prototype.includes=function(t){var e=Object(this),i=parseInt(e.length,10)||0;if(0===i)return!1;var n=parseInt(arguments[1],10)||0,r=void 0;n>=0?r=n:(r=i+n,r<0&&(r=0));for(var o=void 0;r<i;){if(o=e[r],t===o||t!==t&&o!==o)return!0;r+=1}return!1})}]);